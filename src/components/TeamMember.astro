---
import { Image } from 'astro:assets';
import { ETeamMemberType, type ITeamMember } from '@/assets/team';
import { FaLinkedin } from 'react-icons/fa6';

const iconSize: number = 30;

interface IProp {
  member: ITeamMember
}

const { member } = Astro.props as IProp;
---

<li class="member-card">
  <Image
    src={`/images/team/${member.image}`}
    alt={`Photo of ${member.fname} ${member.lname}`}
    class="member-photo"
    height={50}
    width={50}
  />

  <div class="member-info">
    <p class="member-name">{member.fname}<br />{member.lname}</p>

    {member.type === ETeamMemberType.management && (
      <p class="member-title">{member.title}</p>
    )}

    <a
      class="member-link"
      target="_blank"
      rel="noopener noreferrer"
      aria-label={`Visit ${member.fname} ${member.lname} on LinkedIn - opens in a new tab`}
      href={member.linkedIn}
    >
      <FaLinkedin
        aria-hidden="true" 
        focusable="false"             
        size={iconSize} 
      />
    </a>
  </div>
</li>

<style>
.member-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;

  padding: 1rem;
  border-radius: 0.5rem;
  background: #fafafa;
  box-shadow: 0 1px 4px rgba(0,0,0,0.06);

  /* Allow the grid to shrink but not below the image size */
  min-width: 180px;
}

.member-photo {
  width: 100%;
  aspect-ratio: 1/1;
  object-fit: cover;
  border-radius: 9999px;
  max-width: 130px;
}

.member-info { margin-top: 0.75rem; }
.member-name  { font-size: 1rem; color: #424242; font-weight: 700; margin: 0; }
.member-title { font-size: 0.7rem; color: #555; margin: 0.25rem 0; }

.member-link {
  display: inline-flex;
  margin-top: 0.5rem;
  color: #0a66c2;
  transition: opacity 150ms ease;
}
.member-link:hover { opacity: 0.75; }
</style>
